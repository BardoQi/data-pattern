# 数据模式
## 第一章  数据模式介绍
### 第一节  什么是数据模式

你会设计数据库吗？很多人肯定会说，这个，太简单了。
  
你会使用数据吗？很多人会说，这不复杂，我大学是计算机本科，《数据结构》，《离散数学》这些课程都学过。实际写代码时几乎用不上。
我承认，我错了。不过，我可以陈述一些事实。
  
首先是数据库设计。
  
当有人在用户个人信息表中使用了一个字段用来保存年龄，表面上只是常识性错误，相对于后期数据分析而言，则是灾难性的。
  
当然，这不是数据模式要完成的任务，因为，数据库设计原则中就有"参照的完整性"这一规范。
  
当然，如果他懂了，再增加一个字段，保存年龄的参照年份，参照肯定完整了。你也十分乐意请他回家了。
   
但是，如果你团队有人把一个人姓名，性别，职务，职称，会员等级，积分总额，账户余额全放到一个表中，那么，这样的结果，对系统开发、维护、升级而言几乎是灾难性的，有时甚至是毁灭性的。
其次是数据使用。
   
国内某所谓知名开发框架曾经有这么两大特点:
* 第一，框架中常量集中在单一常量文件中，
* 第二，提供了大量的单字母函数。
* 第三，各种类型的日志写在同一文件中。
   
这三大数据模式的规范错误可以说，对开发人员极不友好，同时，由其开发出来的系统在后续维护，升级，扩展方面也是灾难性的。
  
所以，我们需要数据模式。遵循数据模式，就是遵循客观规律，遵循科学。
  
那么，数据模式倒底是什么?
  
数据模式是指对数据的组织与架构的方法。我们清楚，程序语言都有设计模式，而设计模式是提供了类的组织与架构的方法。设计模式的目的是指导人们用更好的方法处理复杂的程序问题，从而增加程序的可扩展性与可维护性。数据模式则是用来指导我们更好地组织数据，从而优化数据结构，可读性与可维护性，降低数据库系统的性能消耗，简化程序设计。
   
说白了，我们这里所说的数据模式，即是指设计阶段的数据建模，或者称为数据存储建模。
    
### 第二节，数据模式的相关学科
 
1、数据模式与设计模式
 
设计模式是提供类与类之间的组合，一般是一组类中的函数协调工作。设计模式目标是面向抽象，从而将抽象与具体解耦。数据模式则是一组表中字段的组合模式。目标是使用合理的数据结构，实现精确反应真实世界相关事物的数据，从而简化程序，增加扩展性。二者区别在于，一个是代码层面，一个是数据层面。联系则是，都是用固定的组合实现需求。类似于拳术。
 
2、数据模式与数据库范式
 
数据库范式是数据库设计的最基本的原则。并且具有一般性与普遍性。数据模式是针对特定类型的问题的处理模式。相对于数据库范式，则比较具体。
  
比如，我们在设计数据库地址字段时，依据第一范式，我们会将省，市，区县独立出来。而数据模式则提倡我们使用国家标准地区代码库，因为，这样做，符合树结构模式与计数模式。
  
3、数据模式与数据结构
   
数据结构是专门用来研究计算机内数据的组织与存储方式，以及相关算法的学科。数据结构虽然涉及一些客观事物的数据表示，但仍属于基本的原则。而数据模式则是针对特定分类的问题给出相关的解决方案。

### 第三节、数据模式的目标

* 烂数据比烂代码更加可怕。
   
一个程序的通用性，首先源于数据。如果数据本身的架构不具备通用性，那么，系统将会是千变万化的。
    
当然，通用性本身也是有一定范围的。比如，一个PDM系统，再怎么通用，也不能当成ERP来使用。

* 烂数据是烂代码的主要罪魁祸手之一
   
有人可能想不到烂数据对烂代码的影响。举个简单的例子。一个包装管理程序。 有人是这么做的。根据用户需求，他们建了以下的表：
  
* 托盘
* 纸箱
* 大包装盒
* 小包装盒
  
同时，因为，涉及到不同的参与方，他们建了以下的表：
  
* 公司用户表
* 分公司用户表
* 分销商用户表
* 仓库用户表
* 物流用户表
  
我们可以清楚地看到，上述产品本质上就是针对一个项目的程序，遇到新的客户以后，由于包装的层次不同，系统的参与方不同，每一次整个程序都要大改。
    
我们完全可以清楚地看出，这首先是数据本身带来的灾难。怎么解决呢？关建在于数据建模。


数据模式的目标：
   


数据模式的目标，即是指导应用程序开发时进行数据建模，从而达到：
    
* 充分利用现有设计经验
   
很多优秀系统，拥有很多优秀的数据模型。数据模式是源于前人的经验，优秀系统中现有设计模型的总结，通过这一点，让每一个新系统都少走弯路。

* 增加数据可读性，易用性与扩展性。
   
数据本身与程序一样，数据模式也是通过一定的数据模型设计规范从而使数据更加可读，并且，能够为未来的大数据进行数据分析打好基础。

* 提升数据库性能
   
利用优秀的存储结构，从而提升数据库性能，这一点，与数据库优化是息息相关的。
   
* 简化程序代码，加快开发速度。
   
好的数据架构，更加利于程序开发，并且不需要复杂的程序。由此，可以节省开发人力，节省成本，加快开发进度。